<div class="w3-hide-medium w3-hide-small">
    <div class="w3-row">
        <div class="progress-bar w3-col l10" clickableTooltipTarget
              keyboardOnlyFocusIndicator
              tabindex="0"
              size="medium"
              #clickableRef="tooltipTarget">
            <span *ngFor="let iState of stateWorkItemsCount.keys">
                <span [style.background-color]="'hsl(' + stateHslColor(iState) + ')'" [style.width]="widthState(stateWorkItemsCount[iState]) + 'px'">&nbsp;</span>
            </span>
            <material-tooltip-card [for]="clickableRef" [preferredPositions]="preferredTooltipPositions">
                <div *ngFor="let iState of stateWorkItemsCount.keys">
                    <br/>
                    <div class="tooltip-card-bar" [style.background-color]="'hsl(' + stateHslColor(iState) + ')'"></div>
                    &nbsp;
                    <strong>{{stateName(iState)}}</strong><br/>
                    <div *ngFor="let iStage of stageWorkItemsCount.keys">
                        <div *ngIf="iStage.state.index == iState.index">
                        <b>{{stageWorkItemsCount[iStage]}}</b>&nbsp;{{iStage.name}}
                        </div>
                    </div>
                    <div *ngIf="stageWorkItemsCount.isEmpty">
                        <b>{{stateWorkItemsCount[iState]}}</b>
                    </div>
                </div>
                <!-- div *ngFor="let istage of stageWorkItemsCount.keys; let iee = index">
                    <div *ngIf="iee == 0 || stageWorkItemsCount.keys.elementAt(iee-1).state.index != istage.state.index">
                        <br/>
                        <div class="tooltip-card-bar" [style.background-color]="'hsl(' + stateHslColor(istage.state) + ')'"></div>
                        &nbsp;<strong>{{stateName(istage.state)}}</strong><br/>
                    </div>
                    <b>{{stageWorkItemsCount[istage]}}</b>&nbsp;{{istage.name}}
                </div -->
            </material-tooltip-card>
        </div>
        <div class="w3-rest">
            <span *ngIf="workItemsCount != 0" class="circle" [style.background-color]="circleColor()" clickableTooltipTarget
                 keyboardOnlyFocusIndicator
                 tabindex="0"
                 size="medium"
                 #clickableRefCircle="tooltipTarget">
                <material-tooltip-card [for]="clickableRefCircle" >
                    <p><b>{{workItemsOverDueCount}} / {{workItemsCount}}</b>&nbsp;{{workItemsOverDueLabel}}</p>
                </material-tooltip-card>
            </span>&nbsp;
        </div>
    </div>
</div>